<!DOCTYPE html>
<html>
<head>
  <title>Gemini Summary</title>
  <style>
    /* CSS Variables for Light and Dark Mode */
    :root {
      --bg-color: #f8f9fa; /* Light mode background */
      --text-color: #212121; /* Light mode text */
      --surface-color: #fff; /* Light mode surface (containers) */
      --primary-color: #3f51b5; /* Primary color (Indigo 500) */
      --secondary-text-color: #757575; /* Light mode secondary text */
      --error-color: #f44336; /* Error color (Red 500) */
      --error-bg-color: #ffebee; /* Light red background for error */
      --summary-bg-color: #f9f9f9; /* Light mode summary area background */
      --summary-border-color: #ddd; /* Light mode summary area border */
    }

    /* Dark Mode Theme */
    @media (prefers-color-scheme: dark) {
      :root {
        --bg-color: #121212; /* Dark mode background (Material Dark Grey 900) */
        --text-color: #fff; /* Dark mode text (White) */
        --surface-color: #303030; /* Dark mode surface (Material Dark Grey 800) */
        --primary-color: #90caf9; /* Dark mode Primary color (Blue 300 - lighter for dark theme) */
        --secondary-text-color: #9e9e9e; /* Dark mode secondary text (Grey 500) */
        --error-color: #ef9a9a; /* Dark mode error color (Red 200 - lighter for dark theme) */
        --error-bg-color: #422020; /* Dark red background for error in dark mode */
        --summary-bg-color: #424242; /* Dark mode summary area background (Material Dark Grey 700) */
        --summary-border-color: #555; /* Dark mode summary area border */
      }
    }

    body {
      width: 320px;
      padding: 20px;
      font-family: 'Roboto', 'Noto Sans', sans-serif;
      color: var(--text-color); /* Use CSS variable for text color */
      background-color: var(--bg-color); /* Use CSS variable for background color */
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    h1 {
      font-size: 1.5rem;
      font-weight: 500;
      margin-bottom: 16px;
      color: var(--primary-color); /* Use CSS variable for primary color */
    }

    #loading {
      display: none;
      margin-bottom: 16px;
      font-style: italic;
      color: var(--secondary-text-color); /* Use CSS variable for secondary text color */
    }

    #summary-container {
      padding: 20px;
      border-radius: 12px;
      background-color: var(--surface-color); /* Use CSS variable for surface color */
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Shadow remains the same for both modes */
      margin-bottom: 16px;
      border: 1px solid var(--summary-border-color); /* Border color using variable */
      background-color: var(--summary-bg-color); /* Background using variable */
    }

    #summary-list {
      white-space: normal;
    }

    .topic-item {
      margin-bottom: 20px; /* Increased spacing between topics */
    }

    .topic-title {
      font-weight: bold;
      margin-bottom: 8px; /* Increased margin below title */
      color: var(--primary-color); /* Use primary color variable for topic titles */
      font-size: 1.1rem; /* Slightly larger topic title */
    }

    .topic-description {
      font-size: 1rem;
      line-height: 1.7; /* Further increased line height */
      color: var(--text-color); /* Use text color variable */
    }

    .keyword { /* Style for keywords - you can expand on this */
      font-weight: bold; /* Example: Bold keywords */
      color: var(--primary-color); /* Example: Primary color for keywords */
      /* You can add more styles: font-style: italic, background-color, etc. */
    }


    #error-message {
      color: var(--error-color); /* Use error color variable */
      display: none;
      margin-top: 10px;
      padding: 15px; /* Increased padding for error message */
      background-color: var(--error-bg-color); /* Use error background color variable */
      border-radius: 12px; /* More rounded error box */
      font-size: 0.9rem;
      border: 1px solid var(--error-color); /* Error border color */
    }

    /* Modern Styling - Subtle hover effect on summary container (optional) */
    #summary-container:hover {
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); /* Slightly stronger shadow on hover */
      transition: box-shadow 0.2s ease-in-out; /* Smooth transition for hover effect */
    }

  </style>
</head>
<body>
  <h1>Gemini Summary</h1>
  <div id="loading">Loading summary...</div>
  <div id="summary-container">
    <div id="summary-list"></div>
    <div id="error-message"></div>
  </div>
  <script src="config.js"></script>
  <script src="popup.js"></script>
</body>
</html>